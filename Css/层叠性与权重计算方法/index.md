# CSS 层叠性与权重计算

[codepen测试](https://codepen.io/Divcutu/pen/GRzGGxx "测试CSS层叠性与权重计算")

**层叠性**是指多种CSS样式的叠加，也是浏览器处理冲突的一个能力，如果一个属性通过两个相同选择器设置到同一个元素上，那么这个时候一个属性就会将另一个属性层叠掉。

定义CSS样式时，经常出现两个或更多规则应用在同一元素上

1. 选择器相同，则执行**层叠性(样式覆盖)**

2. 选择器不同，就会出现优先级的问题，就会涉及CSS权重计算。

以下是 **CSS层叠性权重计算方法**

## CSS层叠性权重计算方法

### 1. 权重计算公式

关于CSS权重，有一套计算公式来去计算，这个就是 `CSS Specificity`(特殊性)

|标签选择器|计算权重公式|
|---|---|
|继承或者 通配符(*)、子选择器(>)、相邻选择器等(+)|0,0,0,0|
|每个元素（标签选择器）|0,0,0,1|
|每个类，伪类|0,0,1,0|
|每个ID|0,1,0,0|
|每个行内样式 style=""|1,0,0,0|
|每个!important重要的|∞ 无穷大|

-----

### 2. 权重叠加

我们日常开发中，会经常把`id、class、标签`等选择器组合使用，此时就会出现权重叠加

比较规则：

1. 权值 = 第一等级选择器*个数，第二等级选择器*个数，第三等级选择器*个数，第四等级选择器*个数。单个最大为
2. **低等级的选择器，个数再多也不会越级超过高等级选择器的优先级**。也就是说，再多的class选择器也不会覆盖id选择器，无论多少id选择器也没有内联样式权重高。(ie选择器目前256个会高于上层权重的1个)

> * 如果两个权重不同的选择器作用在同一元素上，**权重值高的css规则生效**
> * 如果两个相同权重的选择器作用在同一元素上：**以后面出现的选择器为最后规则**，也就是**样式覆盖**。
> * 样式后面加 `!important`，无条件绝对优先，**但会被权重更高的`!important`覆盖**。


注意： 位数之间没有进位，比如 0,0,9,0 + 0,0,9,0 = 0,0,18,0 而不是 0,1,8,0